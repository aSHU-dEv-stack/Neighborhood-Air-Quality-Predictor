<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Week 3 - Air Quality Predictor</title>
    <link rel="stylesheet" href="../styles/main.css">
    <!-- Add Bootstrap for responsive design -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Add Chart.js for data visualization -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Add TensorFlow.js -->
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@latest"></script>
</head>
<body>
    <header class="bg-primary text-white text-center py-4">
        <h1>Air Quality Predictor</h1>
        <p class="lead">Week 3: Model Deployment & Project Presentation</p>
    </header>

    <div class="container mt-4">
        <div class="row">
            <div class="col-md-3">
                <div class="card mb-4">
                    <div class="card-header bg-secondary text-white">
                        <h5 class="card-title mb-0">Navigation</h5>
                    </div>
                    <div class="card-body">
                        <ul class="nav flex-column">
                            <li class="nav-item">
                                <a class="nav-link" href="../index.html">Home</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="../Week1/">Week 1</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" href="../Week2/">Week 2</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link active" href="./index.html">Week 3</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="col-md-9">
                <div class="card mb-4">
                    <div class="card-header bg-info text-white">
                        <h5 class="card-title mb-0">Week 3 Goals</h5>
                    </div>
                    <div class="card-body">
                        <p>In Week 3, we focus on deployment and project presentation:</p>
                        <ul>
                            <li><strong>7. Deployment process of ML model</strong> - Learn how to deploy your trained model</li>
                            <li><strong>8. Project presentation</strong> - Create and review presentation materials for your project</li>
                        </ul>
                    </div>
                </div>

                <div class="card mb-4" id="dataStatusCard">
                    <div class="card-header bg-warning text-dark">
                        <h5 class="card-title mb-0">Data Status</h5>
                    </div>
                    <div class="card-body">
                        <div id="dataStatusContainer">
                            <p class="text-center text-muted">Checking for available data...</p>
                        </div>
                    </div>
                </div>

                <div class="card mb-4" id="modelConfigCard">
                    <div class="card-header bg-success text-white">
                        <h5 class="card-title mb-0">Model Configuration</h5>
                    </div>
                    <div class="card-body">
                        <form id="modelConfigForm">
                            <div class="row mb-3">
                                <div class="col-md-6">
                                    <label for="targetFeature" class="form-label">Target Feature to Predict:</label>
                                    <select class="form-select" id="targetFeature" required>
                                        <option value="pm25">PM2.5</option>
                                        <option value="pm10">PM10</option>
                                        <option value="o3">Ozone (O₃)</option>
                                        <option value="no2">Nitrogen Dioxide (NO₂)</option>
                                        <option value="so2">Sulfur Dioxide (SO₂)</option>
                                        <option value="co">Carbon Monoxide (CO)</option>
                                        <option value="aqi">Air Quality Index (AQI)</option>
                                    </select>
                                </div>
                                <div class="col-md-6">
                                    <label for="predictionHorizon" class="form-label">Prediction Horizon (Days):</label>
                                    <input type="number" class="form-control" id="predictionHorizon" min="1" max="14" value="1" required>
                                </div>
                            </div>
                            
                            <div class="row mb-3">
                                <div class="col-md-6">
                                    <label for="inputFeatures" class="form-label">Input Features:</label>
                                    <div id="inputFeaturesContainer" class="border p-2 rounded" style="max-height: 150px; overflow-y: auto;">
                                        <!-- Checkboxes will be dynamically added here -->
                                        <div class="form-text">Loading available features...</div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <label for="modelType" class="form-label">Model Type:</label>
                                    <select class="form-select" id="modelType" required>
                                        <option value="dense">Dense Neural Network</option>
                                        <option value="lstm">LSTM (Time Series)</option>
                                        <option value="linear">Linear Regression</option>
                                    </select>
                                    
                                    <div class="mt-3">
                                        <label for="trainingRatio" class="form-label">Training Data Ratio:</label>
                                        <input type="range" class="form-range" id="trainingRatio" min="50" max="90" value="80">
                                        <div class="d-flex justify-content-between">
                                            <small>50%</small>
                                            <small id="trainingRatioValue">80%</small>
                                            <small>90%</small>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="row mb-3">
                                <div class="col-md-6">
                                    <label for="epochs" class="form-label">Training Epochs:</label>
                                    <input type="number" class="form-control" id="epochs" min="10" max="200" value="50" required>
                                </div>
                                <div class="col-md-6">
                                    <label for="batchSize" class="form-label">Batch Size:</label>
                                    <input type="number" class="form-control" id="batchSize" min="1" max="128" value="32" required>
                                </div>
                            </div>
                            
                            <div class="d-grid gap-2">
                                <button type="submit" class="btn btn-primary" id="trainModelButton">Train Model</button>
                            </div>
                        </form>
                    </div>
                </div>
                
                <div class="card mb-4" id="trainingCard" style="display: none;">
                    <div class="card-header bg-primary text-white">
                        <h5 class="card-title mb-0">Model Training</h5>
                    </div>
                    <div class="card-body">
                        <div class="progress mb-3">
                            <div class="progress-bar progress-bar-striped progress-bar-animated" id="trainingProgress" role="progressbar" style="width: 0%" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">0%</div>
                        </div>
                        
                        <div id="trainingStatus" class="mb-3">
                            <p>Preparing to train model...</p>
                        </div>
                        
                        <div class="row">
                            <div class="col-md-6">
                                <div class="card">
                                    <div class="card-header bg-info text-white">
                                        <h6 class="card-title mb-0">Training Loss</h6>
                                    </div>
                                    <div class="card-body">
                                        <div class="chart-container" style="height: 200px;">
                                            <canvas id="lossChart"></canvas>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="card">
                                    <div class="card-header bg-info text-white">
                                        <h6 class="card-title mb-0">Metrics</h6>
                                    </div>
                                    <div class="card-body">
                                        <div id="metricsContainer">
                                            <p>Metrics will be displayed after training.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="d-grid gap-2 mt-3">
                            <button class="btn btn-success" id="saveModelButton" disabled>Save Model</button>
                            <button class="btn btn-primary" id="continueToWeek4Button" disabled>Continue to Week 4</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer class="bg-dark text-white text-center py-3 mt-4">
        <p>Air Quality Predictor &copy; 2023</p>
    </footer>

    <!-- Bootstrap JS Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="../scripts/main.js"></script>
    <script src="./scripts/week3.js"></script>
</body>
</html>